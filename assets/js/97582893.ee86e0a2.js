"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[522],{4852:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return h}});var a=n(9231);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),l=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=l(e.components);return a.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),m=l(n),h=i,u=m["".concat(p,".").concat(h)]||m[h]||c[h]||r;return n?a.createElement(u,o(o({ref:t},d),{},{components:n})):a.createElement(u,o({ref:t},d))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var l=2;l<r;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2929:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return d}});var a=n(4011),i=n(4126),r=(n(9231),n(4852)),o=["components"],s={id:"structure",title:"Structure & Architecture",sidebar_label:"Structure & Architecture"},p=void 0,l={unversionedId:"dev/structure",id:"dev/structure",isDocsHomePage:!1,title:"Structure & Architecture",description:"TypeScript",source:"@site/docs/dev/structure.md",sourceDirName:"dev",slug:"/dev/structure",permalink:"/Tutor-Management-System/docs/dev/structure",editUrl:"https://github.com/Dudrie/Tutor-Management-System/edit/main/docs/docs/dev/structure.md",version:"current",frontMatter:{id:"structure",title:"Structure & Architecture",sidebar_label:"Structure & Architecture"},sidebar:"dev",previous:{title:"Setup Environment",permalink:"/Tutor-Management-System/docs/dev/setup-env"},next:{title:"Server API",permalink:"/Tutor-Management-System/docs/dev/server-doc"}},d=[{value:"TypeScript",id:"typescript",children:[]},{value:"Project Structure",id:"project-structure",children:[{value:"<code>client/</code>",id:"client",children:[]},{value:"<code>server/</code>",id:"server",children:[]},{value:"<code>docs/</code>",id:"docs",children:[]},{value:"<code>scripts/</code>",id:"scripts",children:[]}]},{value:"Architecture",id:"architecture",children:[]}],c={toc:d};function m(e){var t=e.components,s=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},c,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"typescript"},"TypeScript"),(0,r.kt)("p",null,"All projects inside this repository use ",(0,r.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/"},"TypeScript")," as programming language."),(0,r.kt)("h2",{id:"project-structure"},"Project Structure"),(0,r.kt)("p",null,"This repository contains four projects.\nDue to ",(0,r.kt)("a",{parentName:"p",href:"https://pnpm.js.org/en/workspaces"},"pnpm's workspace feature")," all dependencies are installed by running ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm install")," in the root folder.\nThe root folder also contains configuration files for ESLint and Prettier aswell as the Dockerfile used to generate the docker image."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"pnpm workspace")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm-workspace.yaml")," file is empty but it ",(0,r.kt)("strong",{parentName:"p"},"must be present"),".\nOtherwise, pnpm would not treat the repository as a project containing workspaces."))),(0,r.kt)("h3",{id:"client"},(0,r.kt)("inlineCode",{parentName:"h3"},"client/")),(0,r.kt)("p",null,"Contains a ",(0,r.kt)("a",{parentName:"p",href:"https://www.snowpack.dev/"},"snowpack")," project for the ",(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/"},"React")," frontend.\nIt comes preconfigured with Hot Module Reload and a special development server to serve the client during development."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"HMR")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"While HMR keeps as much state as possible there are some edge cases where React contexts are not reinitialized correctly.\nIn such cases just refresh the page completely."))),(0,r.kt)("p",null,"You also find the ",(0,r.kt)("inlineCode",{parentName:"p"},"snowpack.config.js")," file at the root of this folder.\nIn this file you can configure snowpack to your needs.\nHowever, there is a configuration present that works with inter project setup.\nOne configuration option you might want to change is the URL to an instance of the TMS server you want to use during development.\nBy default, the configuration assumes that you run a development server locally.\nTo change the TMS server used change the ",(0,r.kt)("inlineCode",{parentName:"p"},"target")," property of the ",(0,r.kt)("inlineCode",{parentName:"p"},"apiProxy")," object:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const apiProxy = httpProxy.createServer({\n  // Change this to the URL you want to use.\n  target: 'http://localhost:8080',\n\n  /* Rest of configuration */\n});\n")),(0,r.kt)("p",null,"Inside the client project ",(0,r.kt)("inlineCode",{parentName:"p"},"src/")," folder you can find the following structure:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"components/"),':\nContains all components which are used by other components or "pages" (see below).\nIf you add a component a good practice would be to put each component in a subfolder.\nThis makes it easier to split it up into sub-components itself.'),(0,r.kt)("div",{parentName:"li",className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"If you design a component that should only be used by one single page put it next to that page (see below).")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"hooks/"),":\nContains all hooks that can be used by any component in the app.\nIt only contains ",(0,r.kt)("inlineCode",{parentName:"p"},"useContext")," hooks if the context is applied to the root level of the application.\nYou can also find helper function which are responsible for fetching data from the backend using ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/axios/axios"},"Axios"),"."),(0,r.kt)("div",{parentName:"li",className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Transform responses")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Transformation is not done automatically.\nIf you create a new function for fetching make you need to transform the results before returning them.")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"model/"),":\nContains classes used to transform the responses from the backend to usable objects.\nThese classes are all set up to be used with ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/typestack/class-transformer"},"class-transformer"),".")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"pages/"),':\nContains all components used by the routing logic.\nThese components each represent a "page" of the application and therefore called "pages" in this documentation.\nEach component has its own subfolder and can depend on special components.\nIf a component is designed to only be used by one page it should be put in a ',(0,r.kt)("inlineCode",{parentName:"p"},"components/"),' subfolder of the "page".')),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"routes/"),":\nContains all the logic needed for the routing logic.\nAll routes used by the application can be found in ",(0,r.kt)("inlineCode",{parentName:"p"},"Routing.routes.ts"),".\nIf you need more routes add them there.\nRoutes in this application are fully typed (including possible parameters).\nTo achieve this a helper function ",(0,r.kt)("inlineCode",{parentName:"p"},"part(..)")," must be used to create the ",(0,r.kt)("inlineCode",{parentName:"p"},"path"),' property of a route.\nThis function takes in spread list of route parts.\nIf a part is a static one (ie the word "student") you pass it as a string.\nIf a part represents a parameter in the route (ie ":studentId") you must wrap it with a call of the ',(0,r.kt)("inlineCode",{parentName:"p"},"param(..)")," function.\n",(0,r.kt)("inlineCode",{parentName:"p"},"param(..)")," takes two arguments:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"The first is the string used in the route ",(0,r.kt)("strong",{parentName:"li"},'(without the ":")')),(0,r.kt)("li",{parentName:"ul"},"The second is a boolean which indicates if a parameter is optional. If you omit this argument the parameter is considered ",(0,r.kt)("strong",{parentName:"li"},"non-optional"),".")),(0,r.kt)("div",{parentName:"li",className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Example")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"If you want to represent the route ",(0,r.kt)("inlineCode",{parentName:"p"},"tutorial/:tutorialId/enterpoints/:sheetId"),", where ",(0,r.kt)("inlineCode",{parentName:"p"},":sheetId")," is an ",(0,r.kt)("em",{parentName:"p"},"optional")," parameter, you would create the ",(0,r.kt)("inlineCode",{parentName:"p"},"path")," property as follows:"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"path: parts('tutorial', param('tutorialId'), 'enterpoints', param('sheetId', true));\n"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"test/"),":\nBasically empty (except an automatically generated test).\nIf the client gets actual tests in the future those should be added here.\nPlease note that the project itself is set up to work with the ",(0,r.kt)("a",{parentName:"p",href:"https://jestjs.io/"},"jest framework"),".")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"typings/"),":\nContains TypeScript typings for modules which do not come with them.\nThose typings are not complete and mostly only parts which are actually used in the project are typed.\n",(0,r.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards"},"Type guards")," can also be found here.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"util/"),":\nContains all sorts of utility functions and classes.\nFor example, the application wide Logger is found here aswell as the password generator used by the ",(0,r.kt)("inlineCode",{parentName:"p"},"UserForm"),".\nFurthermore, the file determining the application's style is in here aswell."))),(0,r.kt)("h3",{id:"server"},(0,r.kt)("inlineCode",{parentName:"h3"},"server/")),(0,r.kt)("p",null,"Contains the project for the TMS backend.\nIt uses ",(0,r.kt)("a",{parentName:"p",href:"https://nestjs.com/"},"NestJS")," as framework.\nInside the ",(0,r.kt)("inlineCode",{parentName:"p"},"server/")," folder you find the following subfolders:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"app/"),":\nContains a mock html-file so the server would not throw an error if one access a non-api route during development directly.\nPlease note that while the production build also contains an ",(0,r.kt)("inlineCode",{parentName:"p"},"app/")," folder this folder is not related to the files used in production.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"config/"),":\nContains several configuration files and pug templates used by the server.\nThe server will use the file that matches the ",(0,r.kt)("inlineCode",{parentName:"p"},"NODE_ENV")," variable on start up (if ",(0,r.kt)("inlineCode",{parentName:"p"},"NODE_ENV")," is not set the ",(0,r.kt)("inlineCode",{parentName:"p"},"development")," configuration will be used).\nThe sample configurations attached to the releases on GitHub only contains the templates and the production configuration.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"src/"),":\nContains the source code (excluding tests) for the server.\nThe source folder has several subfolders itself.\nThe folders have names with speak for themselves:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"auth/"),": Code related to authentication."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"database/"),": Contains the data models for the database and the code to connect to a database."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"exception/"),": Custom, TMS specific exceptions."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"filter/"),":\nCustom filters.",(0,r.kt)("div",{parentName:"li",className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Client App")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"NotFoundExceptionFilter")," is used to serve the client application properly.\nSpecial handling is needed because the client is a single page application.")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"guards/"),": Guards used to protect the REST API endpoints."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"middleware/"),": Custom middleware for the TMS server."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"module/"),":\nContains all modules of the server.\nThe modules are organized into subfolders.",(0,r.kt)("div",{parentName:"li",className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Creating a new module")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"To generate a new module run the following command (replace ",(0,r.kt)("inlineCode",{parentName:"p"},"<name>")," with the actual module name).\nThe NestJS CLI will create all necessary files and adds the module to the ",(0,r.kt)("inlineCode",{parentName:"p"},"app.module.js")," file."),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-cmd"},"nest g module module/<name>\n"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"pipes/"),": Custom pipes for the TMS server."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"shared/"),":\nContains enums and interfaces used by the server and client to make sure that requests and responses are properly typed.",(0,r.kt)("div",{parentName:"li",className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Don't put actual classes in here because the work has shown that the server implements the interfaces in a different manner with different needs than the client.")))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"test/"),":\nContains files with mocked data and helper functions used solely in tests.\nPlease note that the actual tests are suited next to the corresponding services files."),(0,r.kt)("div",{parentName:"li",className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Do not place production code here.\nIt will break the production build.")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"typings/"),":\nContains TypeScript ",(0,r.kt)("inlineCode",{parentName:"p"},".d.ts")," type definition files for modules used and which had no types available.\nPlease note that only required typings are defined so these type definitions are not complete."))),(0,r.kt)("h3",{id:"docs"},(0,r.kt)("inlineCode",{parentName:"h3"},"docs/")),(0,r.kt)("p",null,"Contains the documentation powered by ",(0,r.kt)("a",{parentName:"p",href:"https://v2.docusaurus.io/"},"docusaurus"),".\nTo add, update (or delete) pages in the documentation add / update the corresponding markdown file into the ",(0,r.kt)("inlineCode",{parentName:"p"},"docs/")," folder.\nThe ",(0,r.kt)("inlineCode",{parentName:"p"},"src/")," folder contains the styling (",(0,r.kt)("inlineCode",{parentName:"p"},"css/"),"), the root React page (",(0,r.kt)("inlineCode",{parentName:"p"},"pages/"),") and components that can be used inside the Markdown documents (",(0,r.kt)("inlineCode",{parentName:"p"},"components/"),")."),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Yes, the complete path to markdown files related to the repository's root is ",(0,r.kt)("inlineCode",{parentName:"p"},"docs/docs/<folder>/<filename>.md"),", don't ask..."))),(0,r.kt)("h3",{id:"scripts"},(0,r.kt)("inlineCode",{parentName:"h3"},"scripts/")),(0,r.kt)("p",null,"Contains special scripts to help with more complex tasks.\nYou can run them with ",(0,r.kt)("inlineCode",{parentName:"p"},"ts-node <script>")," and some take in additional arguments.\nThe following scripts are included:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"build.ts"),":\nBuilds both the client and the server.\nAfterwards the client build is copied into the corresponding folder inside the server build so the server can serve the client-side application.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"build-test-docker/buildAndTestDocker.ts"),":\nThis script is used by the GitHub actions set up in this repository.\nBuilds a docker image for testing purposes.\nAfter building the docker image a docker container with the image is created.\nAfterwards the script requests a PDF file from the docker container.\nIf successful the script exits with a code 0, if not a non-zero code is used.\nMore information can be found inside the ",(0,r.kt)("a",{parentName:"p",href:"./build-release#build-docker-image"},"Build & Release section"),"."),(0,r.kt)("div",{parentName:"li",className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Why does this script exist?")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The reason for this explicit test is that the server uses puppeteer to generate PDFs.\nHowever, puppeteer's PDF generation might break inside the container (especially if an alpine image is used).\nTo detect those changes in the CI pipeline this script was created.")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"generate-data/generateData.ts"),":\nThis script can be used to create a large set of dummy data on the server.\nYou can use a different server than your locally running development server by changing the returned value of the ",(0,r.kt)("inlineCode",{parentName:"p"},"createBaseURL()")," function inside ",(0,r.kt)("inlineCode",{parentName:"p"},"util/login.ts"),"."),(0,r.kt)("div",{parentName:"li",className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Due to the large amount of request required to generate this data set some external servers might block request assuming this is a DDoS attack.\nThe script already contains waiting times to prevent this issue.\nIf those times are too small you can change the corresponding constants at the top of the ",(0,r.kt)("inlineCode",{parentName:"p"},"generate-data/generateData.ts")," file."))))),(0,r.kt)("h2",{id:"architecture"},"Architecture"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Software Architecture",src:n(5336).Z})),(0,r.kt)("p",null,"The diagram above shows the ",(0,r.kt)("em",{parentName:"p"},"basic")," architecture of the Tutor-Management-System.\nThe orange colored arrows describe the basic flow of a request through the system whereas black colored arrows are interaction between components."),(0,r.kt)("p",null,"The TMS uses a basic ",(0,r.kt)("strong",{parentName:"p"},"3-layer architecture"),":\nA ",(0,r.kt)("em",{parentName:"p"},"client")," layer, a ",(0,r.kt)("em",{parentName:"p"},"server")," layer and a ",(0,r.kt)("em",{parentName:"p"},"data")," layer.\nThe ",(0,r.kt)("em",{parentName:"p"},"data")," layer is one MongoDB which stores all data necessary.\nThis database must be provided externally and is not part of the docker images which get released.\nThe ",(0,r.kt)("em",{parentName:"p"},"server")," layer consists of a ",(0,r.kt)("a",{parentName:"p",href:"https://nestjs.com/"},"NestJS server")," which handles the requests from the client aswell as reading data from and writing data to the database.\nThe ",(0,r.kt)("em",{parentName:"p"},"client")," layer is a webapp build with ",(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/"},"React"),".\nServer and client communicate through REST request.\nBoth, server and client, have their own folder each with their corresponding project in it (see above)."),(0,r.kt)("p",null,"Each request follows this basic route:\nFirst, it runs through the authentication and one or more authorization guards to ensure the user making the request is allowed to do so.\nSecond, if the request has a body the body gets parsed and converted to an actual object.\nDuring this process the body is also validated (if it is invalid an error response is sent and the request handling ends).\nAfterwards the request gets handed to the appropriate controller which passed it onto the corresponding service.\nThe service communicates with the database to gather and update the necessary resources.\nFinally, a response is sent to the client.\nThe response could either contain the requested data (or a success message if no data was requested) or it contains an error message if something went wrong."))}m.isMDXComponent=!0},5336:function(e,t,n){t.Z=n.p+"assets/images/Architecture-f96a05ea1ab00172a38b3ec067c357c7.png"}}]);